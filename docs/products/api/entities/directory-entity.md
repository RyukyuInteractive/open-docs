# Directory Entity

ドキュメントを階層化して管理するディレクトリエンティティ。

## 属性

### path

ディレクトリのファイルシステム上のパス。

- 必須属性
- 一意制約あり
- スラッシュ区切りの階層構造
- 末尾にスラッシュなし

### directoryName

ディレクトリ名。

- path の最後のセグメント
- 表示名として使用

### indexFile

ディレクトリのindex.mdファイル。

- DocumentEntityのインスタンス
- ディレクトリのメタデータを含む
- スキーマ定義を含む

### files

ディレクトリ内のファイル一覧。

- DocumentEntityの配列
- index.mdを除く
- スキーマに基づいてフィルタリング可能

### subdirectories

サブディレクトリ一覧。

- DirectoryEntityの配列
- 階層構造の表現に使用

### schema

ディレクトリのスキーマ定義。

- indexFileのフロントマターから取得
- フィールド定義とバリデーションルール
- リレーション設定

### relations

他ディレクトリとのリレーション情報。

- スキーマで定義されたrelationフィールドから導出
- 参照可能なドキュメント一覧を提供

## ビジネスルール

- 各ディレクトリは必ずindex.mdファイルを持つ
- index.mdにはディレクトリのスキーマとメタデータを定義する
- サブディレクトリは親ディレクトリのスキーマを継承可能
- ディレクトリ削除時は全ての子要素も削除される
- スキーマ変更時は既存ファイルのバリデーションが実行される