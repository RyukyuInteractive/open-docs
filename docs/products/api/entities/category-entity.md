# カテゴリ

商品を分類するためのカテゴリを管理するエンティティ。階層構造を持つ。

## 属性

### カテゴリID

カテゴリを一意に識別するための識別子。

- システム内で自動生成される一意の識別子であること
- 変更不可であること

### カテゴリ名

カテゴリの名称。

- 1文字以上50文字以内であること
- 入力必須であること
- 同一階層内で一意であること

### 親カテゴリID

このカテゴリの親となるカテゴリの識別子。

- カテゴリエンティティに存在するIDであるか、親が存在しない場合はnullであること
- トップレベルのカテゴリの場合はnullとなる

### 説明

カテゴリの説明。

- 500文字以内であること
- 入力は任意であること

### 表示順

同一階層内でのカテゴリの表示順序。

- 0以上の整数であること
- 入力は任意であること（デフォルトは0）

### 作成日時

カテゴリが作成された日時。

- システムによって自動設定されること
- 変更不可であること

### 更新日時

カテゴリ情報が最後に更新された日時。

- システムによって自動更新されること

### アクティブフラグ

カテゴリが有効かどうかを示すフラグ。

- 真偽値（true/false）であること
- デフォルトはtrue（有効）であること

## ビジネスルール

- カテゴリは階層構造を持ち、親子関係を形成する
- 循環参照（カテゴリAの親がカテゴリB、カテゴリBの親がカテゴリAなど）は許可されない
- カテゴリを削除する場合、そのカテゴリに属する商品が存在しないことを確認する
- サブカテゴリが存在する場合、親カテゴリは削除できない
- カテゴリの階層の深さに制限を設ける（例：最大5階層まで）
- 同一階層内では、カテゴリ名は一意であること
