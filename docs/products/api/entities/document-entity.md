# Document Entity

ドキュメント管理システムの中核となるドキュメントエンティティ。Markdownファイルとフロントマターで構成される。

## 属性

### path

ドキュメントのファイルシステム上のパス。

- 必須属性
- 一意制約あり
- スラッシュ区切りの階層構造
- ファイル拡張子を含む（通常は.md）

### fileName

ファイル名（拡張子を除く）。

- path から自動導出
- ディスプレイ名として使用
- URL セーフな文字列

### title

ドキュメントのタイトル。

- Markdownの最初のh1見出しから自動抽出
- フロントマターのtitleフィールドで上書き可能
- 表示名として使用

### description

ドキュメントの説明文。

- Markdownの本文から自動抽出（最初の段落）
- フロントマターのdescriptionフィールドで上書き可能
- カード表示などで使用

### content

Markdownの本文コンテンツ。

- フロントマターを除いたMarkdownテキスト
- 編集・表示に使用

### frontMatter

フロントマターのメタデータ。

- YAML形式のオブジェクト
- スキーマに基づく型検証
- 編集可能な属性

### schema

ドキュメントが属するディレクトリのスキーマ定義。

- 親ディレクトリのindex.mdから継承
- フィールド定義とバリデーションルール
- リレーション設定

## ビジネスルール

- ドキュメントはディレクトリ構造に従って階層化される
- 各ドキュメントは一意のパスを持つ
- フロントマターはディレクトリスキーマに準拠する必要がある
- タイトルと説明が未設定の場合、Markdownから自動抽出される
- 削除時は関連ドキュメントからの参照も更新される