---
milestone: 2028.01.01
is-done: false
priority: 0
---

# 在庫移動を行う

在庫管理者が商品を異なる倉庫間で移動する処理を記録する機能。

1. 在庫管理者がメニューから「在庫移動」を選択する
2. システムが在庫移動フォームを表示する
3. 在庫管理者が以下の情報を入力する
   - 商品（必須）：商品コードまたは商品名で検索して選択
   - 移動元倉庫（必須）：移動元の倉庫を選択
   - 移動先倉庫（必須）：移動先の倉庫を選択
   - 数量（必須）：移動する数量を入力
   - 取引日時（必須）：デフォルトは現在日時
   - ロット番号（任意）：特定のロットを移動する場合に選択
   - 移動理由（任意）：在庫移動の理由を入力
   - 備考（任意）：補足情報を入力
4. 在庫管理者が「移動実行」ボタンをクリックする
5. システムが入力内容を検証する
6. 問題がなければ、システムが在庫移動情報を記録し、移動元と移動先の在庫数量を更新する
7. システムが「在庫移動が正常に完了しました」というメッセージを表示する
8. システムが在庫一覧画面または在庫移動履歴画面に移動する

## 代替フロー

### 移動元の在庫数量が不足している場合

1. システムが移動元の在庫数量を検証する
2. 在庫数量が移動数量より少ない場合、システムは「移動元の在庫数量が不足しています」というエラーメッセージを表示する
3. 在庫管理者は移動数量を修正するか、別の移動元倉庫を選択するか、または処理をキャンセルする

### 移動元と移動先が同じ倉庫の場合

1. 在庫管理者が移動元倉庫と移動先倉庫に同じ倉庫を選択する
2. システムが「移動元と移動先が同じ倉庫です」というエラーメッセージを表示する
3. 在庫管理者は異なる倉庫を選択するか、または処理をキャンセルする

### 複数商品を一括で移動する場合

1. 在庫管理者が「複数商品移動」ボタンをクリックする
2. システムが複数商品移動フォームを表示する
3. 在庫管理者が複数の商品について、それぞれ商品ID、数量などを入力する
4. 共通情報（移動元倉庫、移動先倉庫、取引日時など）を一度入力する
5. 在庫管理者が「一括移動」ボタンをクリックする
6. システムが入力内容を検証し、問題がなければ全ての商品の移動処理を実行する
